<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./cadastro.css" />
    <title>EasyPass Cadastro</title>
    <link
      href="https://fonts.googleapis.com/css?family=Nunito:400,400i,700"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="container">
      <div class="imagem">
        <img
          src="https://www.trt4.jus.br/portais/media-noticia/293989/03%20-%20motorista%20uber%20SITE.jpg"
          alt=""
        />
      </div>
      <div class="formulario">
        <form action=>
          <div class="cabecalho-form">
            <div class="title">
              <h1>Faça seu cadastro na EasyPass!</h1>
            </div>
            <div class="botao-login">
              <button><a href="../Login/login.html">Login</a></button>
            </div>
          </div>

          <div class="input-group">
            <div class="input-box">
              <label for="firstname">Usuario</label>
              <input
                id="nome"
                type="text"
                name="nome"
                placeholder="Digite seu Usuario"
                required
              />
            </div>

            <div class="input-box">
              <label for="email">E-mail</label>
              <input
                id="email"
                type="email"
                name="email"
                placeholder="Digite o e-mail"
                required
              />
            </div>

            <div class="input-box">
              <label for="password">Senha</label>
              <input
                id="senha"
                type="password"
                name="senha"
                placeholder="Digite a senha"
                required
              />
            </div>

            <div class="input-box">
              <label for="confirmPassword">Confirme sua Senha</label>
              <input
                id="confirmPassword"
                type="password"
                name="confirmPassword"
                placeholder="Digite a senha novamente"
                required
              />
            </div>
          </div>

          <div class="gender-inputs">
            <div class="gender-title">
              <h6>Gênero</h6>
            </div>

            <div class="gender-group">
              <div class="gender-input">
                <input id="female" type="radio" name="gender" />
                <label for="female">Feminino</label>
              </div>

              <div class="gender-input">
                <input id="male" type="radio" name="gender" />
                <label for="male">Masculino</label>
              </div>
            </div>
          </div>

          <div class="botao-continuar">
            <button onclick="document.getElementById">
              <a href="../Login/login.html">Concluir Cadastro</a>
            </button>
          </div>
        </form>
      </div>
    </div>

    <script>
      window.onload = () => {
        nome.onchange = () => console.log("change", nome.value);
        nome.oninput = () => {
          let = caracterInvalido = "()*&%$#@?/|<>:{[}].!1234567890_-";
          if (
            caracterInvalido.indexOf(
              nome.value.charAt(nome.value.length - 1)
            ) >= 0
          )
            nome.value = nome.value.substr(0, nome.value.length - 1);
          nome.value = nome.value.toUpperCase();
        };
        nome.onblur = () => {
          if (nome.value.length == 0) {
            nome.style.border = "thin red solid";
          }
        };

        senha.onchange = () => console.log(senha.value);
        senha.onchange = () => console.log("change", senha.value);
        senha.onblur = () => {
          if (senha.value.length < 4)
            alert("Sua senha está fraca! Insira uma senha maior");
        };
        cpf.onblur = () => {
          if (cpf.value.length < 11) {
            cpf.style.border = "thin red solid";
          }
        };
        login.onsubmit = () => {
          if (
            cpf.value.length != 0 ||
            senha.value.length != 0 ||
            nome.value.length != 0
          ) {
            localStorage.setItem("username", nome.value);
            localStorage.setItem("password", senha.value);
            localStorage.setItem("cpf", cpf.value);
            alert(`Usuário ${nome.value} cadastrado!`);
          } else {
            login.preventDefault("submit");
          }
        };
        const primeiro_login = [
          `{
              nome: 'KLAUS',
              senha: 1234,
              cpf: 123.841.076.66
            }`,
        ];
        const JSONdata = JSON.parse(primeiro_login);
        console.log(JSONdata);
      };
    </script>
    <form
      id="login"
      action="https://postman-echo.com/post"
      method="post"
    ></form>
  </body>
</html>
